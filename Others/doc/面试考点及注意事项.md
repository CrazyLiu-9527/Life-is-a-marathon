**面试整体事项**

1.简历要准备好，联系方式一定要正确清晰醒目，项目经历按照时间倒序阐述，注意描述自己在项目中承担的职责，简历的模板尽量选择简洁的，毕竟程序员大部分还是喜欢简单明了的。

2.推荐boss直聘，我觉得很好用（不是广告）。

3.一般的整体面试流程都是电面->现场面->HR面->等着。

4.不要觉得HR说让你回去等消息就是GG了，他们也要跟你之前的面试官讨论，再向领导汇报，如果说不急可能还要和其他候选人比较，所以HR让你回去等消息绝对不是说明你完蛋了。

5.面试前准备好自我介绍，1分钟左右就可以，可以写在纸上，电面可以照着念，等你到了现场面了基本也都快背下来你的自我介绍了。

6.准备好扎实的基础，这是一切的根源，没实力怎么都没用的。

7.面试中你可以把你的面试官往你会的知识上引导（我遇到过你会什么他不问什么的）。

8.遇到了设计类题目不要着急，面试官不是为了让你几分钟设计一个高并发高可用设计模式完美的架构，只是想看看你的思路，看看你应变的能力，然后给你些提示看看你能否迅速的调整。

9.offer都会有的，不要着急，把面试当成一个交流的过程。

**需要准备的知识**

以下为在近期面试中比较有印象的问题，也就不分公司了，因为没什么意义，大致分类记录一下，目前只想起这么多，不过一定要知道这些问题只是冰山一角，就算都会了也不能怎么样，最最重要的，还是坚实的基础，清醒的头脑。

**Java基础**

1.HashMap的源码，实现原理，JDK8中对HashMap做了怎样的优化。

- hashmap优化

  - 引入红黑树，将 get 操作的时间复杂从 O(n) 降为了 O(logn)
  - 优化 hash 算法只进行一次位移操作

- ConcurrentHashMap优化

  - Java 7 采用 Segment 分段锁来实现，而 Java 8 中的 ConcurrentHashMap 使用数组 + 链表 + 红黑树

  - ##### 并发度

    Java 7 中，每个 Segment 独立加锁，最大并发个数就是 Segment 的个数，默认是 16。

    但是到了 Java 8 中，锁粒度更细，理想情况下 table 数组元素的个数（也就是数组长度）就是其支持并发的最大个数，并发度比之前有提高。

    ##### 保证并发安全的原理

    Java 7 采用 Segment 分段锁来保证安全，而 Segment 是继承自 ReentrantLock。

    Java 8 中放弃了 Segment 的设计，采用 Node + CAS + synchronized 保证线程安全。


2.HaspMap扩容是怎样扩容的，为什么都是2的N次幂的大小。

1. 空数组有无初始化，没有的话初始化；
2. 如果通过 key 的 hash 能够直接找到值，跳转到 6，否则到 3；
3. 如果 hash 冲突，两种解决方案：链表 or 红黑树；
4. 如果是链表，递归循环，把新元素追加到队尾；
5. 如果是红黑树，调用红黑树新增的方法；
6. 通过 2、4、5 将新元素追加成功，再根据 onlyIfAbsent 判断是否需要覆盖；
7. 判断是否需要扩容，需要扩容进行扩容，结束。

- 因为2的幂-1都是11111结尾的，所以碰撞几率小。

3.HashMap，HashTable，ConcurrentHashMap的区别。

4.极高并发下HashTable和ConcurrentHashMap哪个性能更好，为什么，如何实现的。

- HashTable内部都是synchronized的方法，ConcurrentHashMap是cas+synchronized，

5.HashMap在高并发下如果没有处理线程安全会有怎样的安全隐患，具体表现是什么。

- 两个key计算出来相同的hashcode，同时put导致其中一个被覆盖
- 扩容的时候如果一个线程反转链表，另一个线程再反转，那么会出现循环链表，导致一直循环拿不到值

6.java中四种修饰符的限制范围。

7.Object类中的方法。

8.接口和抽象类的区别，注意JDK8的接口可以有实现。

9.动态代理的两种方式，以及区别。

10.Java序列化的方式。

11.传值和传引用的区别，Java是怎么样的，有没有传值引用。

12.一个ArrayList在循环过程中删除，会不会出问题，为什么。

13.@transactional注解在什么情况下会失效，为什么。

**数据结构和算法**

1.B+树

2.快速排序，堆排序，插入排序（其实八大排序算法都应该了解)

3.一致性Hash算法，一致性Hash算法的应用

**JVM**

1.JVM的内存结构。

2.JVM方法栈的工作过程，方法栈和本地方法栈有什么区别。

3.JVM的栈中引用如何和堆中的对象产生关联。

4.可以了解一下逃逸分析技术。

5.GC的常见算法，CMS以及G1的垃圾回收过程，CMS的各个阶段哪两个是Stop the world的，CMS会不会产生碎片，G1的优势。

6.标记清除和标记整理算法的理解以及优缺点。

7.eden survivor区的比例，为什么是这个比例，eden survivor的工作过程。

8.JVM如何判断一个对象是否该被GC，可以视为root的都有哪几种类型。

9.强软弱虚引用的区别以及GC对他们执行怎样的操作。

10.Java是否可以GC直接内存。

11.Java类加载的过程。

12.双亲委派模型的过程以及优势。

13.常用的JVM调优参数。

14.dump文件的分析。

15.Java有没有主动触发GC的方式（没有）。

**多线程**

1.Java实现多线程有哪几种方式。

2.Callable和Future的了解。

3.线程池的参数有哪些，在线程池创建一个线程的过程。

4.volitile关键字的作用，原理。

5.synchronized关键字的用法，优缺点。

6.Lock接口有哪些实现类，使用场景是什么。

7.可重入锁的用处及实现原理，写时复制的过程，读写锁，分段锁（ConcurrentHashMap中的segment）。

8.悲观锁，乐观锁，优缺点，CAS有什么缺陷，该如何解决。

9.ABC三个线程如何保证顺序执行。

10.线程的状态都有哪些。

11.sleep和wait的区别。

12.notify和notifyall的区别。

13.ThreadLocal的了解，实现原理。

**数据库相关**

1.常见的数据库优化手段

2.索引的优缺点，什么字段上建立索引

3.数据库连接池。

4.durid的常用配置。

**计算机网络**

1.TCP，UDP区别。

2.三次握手，四次挥手，为什么要四次挥手。

3.长连接和短连接。

4.连接池适合长连接还是短连接。

**设计模式**

1.观察者模式

2.代理模式

3.单例模式，有五种写法，可以参考文章单例模式的五种实现方式

4.可以考Spring中使用了哪些设计模式

**分布式相关**

1.分布式事务的控制。

2.分布式锁如何设计。

3.分布式session如何设计。

4.dubbo的组件有哪些，各有什么作用。

5.zookeeper的负载均衡算法有哪些。

6.dubbo是如何利用接口就可以通信的。

**缓存相关**

1.redis和memcached的区别。

2.redis支持哪些数据结构。

3.redis是单线程的么，所有的工作都是单线程么。

4.redis如何存储一个String的。

5.redis的部署方式，主从，集群。

6.redis的哨兵模式，一个key值如何在redis集群中找到存储在哪里。

7.redis持久化策略。

**框架相关**

1.SpringMVC的Controller是如何将参数和前端传来的数据一一对应的。

2.Mybatis如何找到指定的Mapper的，如何完成查询的。

3.Quartz是如何完成定时任务的。

4.自定义注解的实现。

5.Spring使用了哪些设计模式。

6.Spring的IOC有什么优势。

7.Spring如何维护它拥有的bean。





1:手写一个单例模式（双重检查锁机制）

2:volatile是如何实现变量可见的？用到了哪些指令？工作内存和主内存解决了什么问题？以及他们之间的交互过程

3:jvm如何调优？写几个参数出来？尝试设计一个自己的JVM，你会如何设计？

4:dubbo的group怎么用？超时时间设置的作用域有哪些？优先级是什么？

5:ThreadLocal底层如何实现？map中的key是什么？vlaue是什么？需要解决什么问题？哪个方法可以防止内存泄露

6:讲一下currentHashMap的get方法过程，如何链表转红黑树？

7:有一个表t1，列为ABC，索引为AC，现在select xx from table where c=xx a =xx有没有用到索引？

8:cas是什么？给你笔画一下具体的实现过程？cas什么时候结束？

9:java的锁存储在哪？占几个比特位？锁是如何升级的？

10:redis的缓存淘汰策略有哪些？LRU和LFU区别，手写一个LRU

11:写出线程池的核心参数，并解释，然后说明线程池是有哪些放弃策略？

12:http属于什么层协议？与https的区别是什么？Tcp协议属于那一层？OSI七层网络模型有哪些？三次握手和四次挥手的过程？为什么握手要三次，挥手要四次？

13:线上cpu占用率高怎么办？如何排查这个问题，用哪些命令

14:spring使用了哪些设计模式？BeanFactory和Factory的区别是什么？

15:策略模式的使用场景？说一下它的优点和缺点？

16:给你一个秒杀场景，如何应对短时间的高峰请求问题？数据库如何防止并发问题？秒杀如何实现不同的客户端的时间一致性？

17:redis的基本数据类型有哪些？hash的使用场景？如何通过redis实现一个阻塞队列？

18:画出dubbo的调用关系图？并举例说明调用链

19:cas是什么？解释一下cas的原理。并用笔画出来，aba问题怎么解决？

20:你们的线程池是如何配比的？默认的线程数是多少?写出线程池的几个参数，并结合你们的项目解释一下是如何调优的？

21:sring的事务用过吗？简述一下如何使用？当方法A使用了事务，方法B也使用了事务，他们的事务策略都是:如果没有新的事务就开启一个事务，问调用过程中事务是如何传播的？

22:给你一串连续的数字，1到10000，随机除去两个数，怎样快速找到这两个数？

23:tomcat的IO框架经历了怎样的变化？谈谈你对NIO流的理解?

24:redis的缓存策略有哪些？手动写一下LRU的实现方法,并介绍一下LFU

25:redis的集群是如何找到具体的key的？你们的集群采用哪种持久化策略？为什么？集群搭建模式是什么？

26:一串有负数和正数的数字，用算法实现连续的数字加起来的和最大的一串数字？

27:hashmap为什么是线程不安全的？线程安全的有哪些集合？讲一下集合框架，包括map和list

28:秒杀场景下如何实现分布式锁？redis搭建的集群会存在并发问题吗？怎么解决？

29:目前jdk用的垃圾回收器是什么？讲一讲垃圾回收的内存划分？引用链可达是从哪里开始回收的？扩展：职责链模式

30：java有哪些加载器？Java的类加载机制是什么？双亲委派机制是什么？有什么好处？我如果想自定义一个名为Object的类，如何加载它？

31：你知道哪些设计模式？在项目中用到了哪些设计模式？讲一讲具体的应用场景和实现方式

32:redis集群是把数据存储在所有节点吗？如果是存储一个节点？它怎么知道存储到哪个节点？当master节点挂了，缓存是不是就删除了？增加一个节点或者删除一个节点，集群会怎么处理？

33:方法前如果不声明private、public，那么是什么？它的级别是什么？

34:有没有线上调优JVM的经验？如何打印gc细节？

35:把你知道的GC算法都说一下，虚拟机经历了怎样的变化才发展到今天?

36:你做了什么项目？有哪些功能？有什么优势？解决了什么问题？你认为还有那些优化的点？

37:什么是可重入锁？假如我一个线程申请了可重入锁，那么子线程可以再次用到可重入锁吗？

38、jvm的内存结构是什么样的？请画出来并且是哪些是线程共享的？哪些是线程私有的？

39、双向升序链表的插入和删除（笔试）

40、二维数组的遍历和赋值（笔试）

42、算法：一个公司找猎头拿简历 1000份，每个猎头需要的佣金一样，但每个猎头拥有的简历数不相同（可能重复） ，问公司如何能雇佣最少的猎头找到更多的简历

42、 接口限流策略有哪些

43、微服务雪崩后怎么处理的?

44、多线程环境,线程如何同步？

45、用多线程统计1到1000000之间有多少个素数，并输出素数（假设cpu有四核）（机试）

46、用java实现各订单生成器，需要考虑可读、并发、不可重复（机试）

47、归并排序（机试）

48、rabbitmq消息重复和丢失如何处理?

49、一个部分有序的数组，如何找到一个指定的数字？要求时间复杂度不能超过log(n)

50: hystrix如何实现服务降级、治理、熔断，讲一讲微服务中服务熔断的过程？你们都是怎么处理的？

 51：mysql的limit查询如何进行优化？索引遵循什么原则？

52：ElasticSearch了解吗？ElasticsSearch如何计算评分？评分公式写出来，有哪些查询命令？

53：微服务的事务你们用什么解决？事务的传播机制，方法A调用方法B，方法A有事务，问调用方法B还会有事务吗？